---
layout: layouts/base.njk
---

{% from "components/component.njk" import component with context %}
<div class="fr-container" data-pagefind-ignore>
  <div class="fr-grid-row">
    <div class="fr-col-12 fr-col-md-4">
      {% set effectiveNav = eleventyNavigation.nav %}
      {% if sidemenuNav %}
        {% set effectiveNav = sidemenuNav %}
      {% endif %}
      {% if effectiveNav == "utilisateur" %}
        {% set navLinks = collections.utilisateurNavigation | filterCollectionLang | eleventyNavigation %}
        {% set navCollection = collections.utilisateurNavigation %}
        {% set sidemenuTitle = "Guides utilisateur" %}
        {% set sidemenuLink = "/fr/guides/utilisateur/" %}
      {% elif effectiveNav == "producteur" %}
        {% set navLinks = collections.producteurNavigation | filterCollectionLang | eleventyNavigation %}
        {% set navCollection = collections.producteurNavigation %}
        {% set sidemenuTitle = "Guides producteur" %}
        {% set sidemenuLink = "/fr/guides/producteur/" %}
      {% elif effectiveNav == "developpeur" %}
        {% set navLinks = collections.developpeurNavigation | filterCollectionLang | eleventyNavigation %}
        {% set navCollection = collections.developpeurNavigation %}
        {% set sidemenuTitle = "Guides d√©veloppeur" %}
        {% set sidemenuLink = "/fr/guides/developpeur/" %}
      {% endif %}
      {% include "templates/sidemenu.njk" %}
    </div>
    <div id="contenu" class="fr-col-12 fr-col-md-8 fr-py-12v">
      <div class="fr-grid-row">
        <div class="fr-col-12 fr-col-md-9">
          {% if showBreadcrumb %}
            {% include "components/breadcrumb.njk" %}
          {% endif %}
          <h1>{{ title }}</h1>
          {% include "components/published_on.njk" %}
          {% if description %}
            <p class="fr-text--lead">{{ description }}</p>
          {% endif %}
        </div>
      </div>
      {{ content | safe }}
      {% if eleventyNavigation and eleventyNavigation.key %}
        {% set topLevelPages = [] %}
        {% for entry in navCollection %}
          {% if not entry.data.eleventyNavigation.parent %}
            {% set _ = topLevelPages.push(entry) %}
          {% endif %}
        {% endfor %}
        {% set topLevelPages = topLevelPages | sort(attribute = "data.eleventyNavigation.order") %}
        {% set items = topLevelPages %}
        {% set columns = 6 %}
        {% include "components/tile_list.njk" %}
      {% endif %}
      {% include "components/page_switcher.njk" %}
    </div>
  </div>
</div>